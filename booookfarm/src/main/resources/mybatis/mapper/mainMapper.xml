<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="bookTestMapper">
	<select id="selectAll"  resultType="bookDTO">
		SELECT RNUM
			 , bookCode, bookTitle, bookAuthor
			 , bookPrice, bookDiscount
			 , isbn, bookCategory
			 , publisher, bookCondition
			 , bookImgPath , createDate
		FROM	 
		(SELECT ROWNUM AS RNUM, BOOK_CODE AS bookCode
			 , BOOK_TITLE AS bookTitle
			 , BOOK_AUTHOR AS bookAuthor
			 , BOOK_PRICE AS bookPrice
			 , BOOK_DISCOUNT AS bookDiscount
			 , ISBN AS isbn
			 , BOOK_CATEGORY AS bookCategory
			 , PUBLISHER AS publisher
			 , BOOK_CONDITION AS bookCondition
			 , BOOK_IMG_PATH AS bookImgPath
			 , TO_CHAR(CREATE_DATE,'YYYY.MM.DD') AS createDate
		FROM BOOK
		ORDER BY CREATE_DATE DESC)
       WHERE <![CDATA[ RNUM <= #{num_end}]]>
		AND <![CDATA[RNUM >= #{num_start}]]>
	</select>
	<select id="selectCnt"  resultType="_int">
   	SELECT COUNT(*)
     FROM BOOK
	</select>
</mapper>